{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\mjkumar\\\\Desktop\\\\Project\\\\Student MGMT APP\\\\client\\\\src\\\\components\\\\EditStudent\\\\EditStudent.jsx\";\nimport React, { Component } from \"react\";\nimport './EditStudent.css';\nimport axios from \"axios\";\nimport { withRouter } from 'react-router';\nimport { toast, ToastContainer } from \"react-toastify\";\n\nclass EditStudent extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      id: '',\n      name: \"\",\n      email: \"\",\n      enrollnumber: \"\",\n      department: \"\",\n      response: \"\"\n    };\n\n    this.onChangeHandler = e => this.setState({\n      [e.target.name]: e.target.value\n    });\n\n    this.updateStudentHandler = async e => {\n      e.preventDefault();\n\n      try {\n        const student = await axios.put(`/api/students/${this.state.id}`, {\n          name: this.refs.name.value,\n          email: this.refs.email.value,\n          enrollnumber: this.refs.enrollnumber.value,\n          department: this.refs.department.value\n        });\n        toast(student.data.message, {\n          type: toast.TYPE.INFO,\n          autoClose: 3000\n        });\n      } catch (err) {\n        toast(err.message, {\n          type: toast.TYPE.ERROR,\n          autoClose: 3000\n        });\n      }\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      let search = this.props.location.search,\n          id = search.substring(1, search.length);\n      const updateStudent = await axios(`/api/students/${id}`);\n      const {\n        name,\n        email,\n        enrollnumber,\n        department\n      } = updateStudent.data.student;\n      this.setState({\n        id,\n        name,\n        email,\n        enrollnumber,\n        department\n      });\n    } catch (err) {\n      this.setState({\n        response: \"Student not found!\"\n      });\n    }\n  }\n\n  render() {\n    if (this.state.response === \"Student not found!\") return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Student not found!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 14\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Edit-Student-Wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Edit page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.updateStudentHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          children: \"Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Name...\",\n          value: this.state.name,\n          name: \"name\",\n          onChange: this.onChangeHandler,\n          ref: \"name\",\n          required: true,\n          className: \"Edit-Student-Input\",\n          id: \"name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: [\"Email: \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"(must be a valid email)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          placeholder: \"Enter your email here\",\n          value: this.state.email,\n          name: \"email\",\n          required: true,\n          onChange: this.onChangeHandler,\n          ref: \"email\",\n          className: \"Edit-Student-Input\",\n          id: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"enrollnumber\",\n          children: \"Enrollement Number: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          placeholder: \"Enter the student's enrollment number\",\n          value: this.state.enrollnumber,\n          name: \"enrollnumber\",\n          min: \"1\",\n          max: \"120\",\n          required: true,\n          onChange: this.onChangeHandler,\n          ref: \"enrollnumber\",\n          className: \"Edit-Student-Input\",\n          id: \"enrollnumber\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"Edit-Student-Submit fa fa-pencil\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(EditStudent);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["C:/Users/mjkumar/Desktop/Project/Student MGMT APP/client/src/components/EditStudent/EditStudent.jsx"],"names":["React","Component","axios","withRouter","toast","ToastContainer","EditStudent","state","id","name","email","enrollnumber","department","response","onChangeHandler","e","setState","target","value","updateStudentHandler","preventDefault","student","put","refs","data","message","type","TYPE","INFO","autoClose","err","ERROR","componentDidMount","search","props","location","substring","length","updateStudent","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport './EditStudent.css';\nimport axios from \"axios\";\nimport { withRouter } from 'react-router'\nimport {toast, ToastContainer} from \"react-toastify\";\n\nclass EditStudent extends Component {\n  state = {\n    id: '',\n    name: \"\",\n    email: \"\",\n    enrollnumber: \"\",\n    department: \"\",\n    response: \"\"\n  };\n\n  onChangeHandler = e => this.setState({ [e.target.name]: e.target.value });\n\n  async componentDidMount() {\n    try {\n    let search =  this.props.location.search,\n      id = search.substring(1, search.length);\n    const updateStudent = await axios(`/api/students/${id}`);\n    const { name, email, enrollnumber, department } = updateStudent.data.student;\n    this.setState({ id, name, email, enrollnumber, department  });\n    } catch (err) {\n      this.setState({ response: \"Student not found!\" })\n    }\n  };\n\n  updateStudentHandler = async (e) => {\n    e.preventDefault();\n    try {\n      const student = await axios.put(`/api/students/${this.state.id}`, {\n        name: this.refs.name.value,\n        email: this.refs.email.value,\n        enrollnumber: this.refs.enrollnumber.value,\n        department: this.refs.department.value\n      });\n      toast(student.data.message ,{ type: toast.TYPE.INFO, autoClose: 3000 });\n\n    } catch (err) {\n      toast(err.message ,{ type: toast.TYPE.ERROR, autoClose: 3000 });\n    }\n  };\n\n  render() {\n    if (this.state.response === \"Student not found!\")\n      return <h1>Student not found!</h1>\n    return (\n      <div className=\"Edit-Student-Wrapper\">\n        <h1>Edit page</h1>\n        <form onSubmit={this.updateStudentHandler}>\n          <label htmlFor=\"name\">Name:</label>\n          <input\n            type=\"text\"\n            placeholder=\"Name...\"\n            value={ this.state.name }\n            name=\"name\"\n            onChange={this.onChangeHandler}\n            ref=\"name\"\n            required\n            className=\"Edit-Student-Input\"\n            id=\"name\"\n          />\n          <label htmlFor=\"email\">Email: <b>(must be a valid email)</b></label>\n          <input\n            type=\"email\"\n            placeholder=\"Enter your email here\"\n            value={ this.state.email }\n            name=\"email\"\n            required\n            onChange={this.onChangeHandler}\n            ref=\"email\"\n            className=\"Edit-Student-Input\"\n            id=\"email\"\n          />\n          <label htmlFor=\"enrollnumber\">Enrollement Number: </label>\n          <input\n            type=\"number\"\n            placeholder=\"Enter the student's enrollment number\"\n            value={ this.state.enrollnumber }\n            name=\"enrollnumber\"\n            min=\"1\"\n            max=\"120\"\n            required\n            onChange={this.onChangeHandler}\n            ref=\"enrollnumber\"\n            className=\"Edit-Student-Input\"\n            id=\"enrollnumber\"\n          />\n          <button type=\"submit\" className=\"Edit-Student-Submit fa fa-pencil\"></button>\n        </form>\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n\nexport default withRouter(EditStudent);\n"]},"metadata":{},"sourceType":"module"}